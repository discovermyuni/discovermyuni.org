{% load static i18n %}
{% load static %}

<!DOCTYPE html>
{% get_current_language as LANGUAGE_CODE %}
<html lang="{{ LANGUAGE_CODE }}">
  <head>
    <script>/* Early theme apply to prevent flash */(function(){try{const t=localStorage.getItem('theme');if(t==='dark'||(!t&&matchMedia('(prefers-color-scheme: dark)').matches)){document.documentElement.classList.add('pre-theme');document.write('<style>html.pre-theme body{opacity:0}</style>');}}catch(e){}})();</script>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>
      {% block title %}
        DiscoverMyUni
      {% endblock title %}
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Behold My Awesome Project!" />
    <link rel="icon" href="{% static 'images/favicons/favicon.ico' %}" />
    {% block css %}
      <!-- Bootstrap (primary framework) -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/css/bootstrap.min.css" crossorigin="anonymous" />
        <!-- Tailwind built stylesheet (run `npm run build` to refresh) -->
        <link href="{% static 'css/tailwind.build.css' %}" rel="stylesheet" />
        {# For rapid prototyping you can temporarily re-enable the CDN below, then rebuild: #}
        {# <script src="https://cdn.tailwindcss.com"></script> #}
      <link href="{% static 'css/project.css' %}" rel="stylesheet" />
      <link href="{% static 'css/reddit.css' %}" rel="stylesheet" />
      <style>
        /* Alpine.js cloak utility */
        [x-cloak] { display: none !important; }
        
        /* Global CSS variables for consistent theming */
        :root {
          /* Light theme - clean modern colors */
          --dmu-body-bg: #f8fafc;
          --dmu-card-bg: #ffffff;
          --dmu-card-border: #e2e8f0;
          --dmu-text: #0f172a;
          --dmu-text-secondary: #374151;
          --dmu-text-muted: #64748b;
          --dmu-accent-bg: #f1f5f9;
          --dmu-accent-border: #cbd5e1;
          --dmu-hover-bg: #f8fafc;
          --dmu-nav-bg: rgba(248, 250, 252, 0.95);
          --dmu-sidebar-bg: rgba(248, 250, 252, 0.7);
        }
        
        /* Dark theme - true black for modern look */
        body.theme-dark, body.dark {
          --dmu-body-bg: #000000;
          --dmu-card-bg: #111827;
          --dmu-card-border: #374151;
          --dmu-text: #ffffff;
          --dmu-text-secondary: #e5e7eb;
          --dmu-text-muted: #9ca3af;
          --dmu-accent-bg: #1f2937;
          --dmu-accent-border: #4b5563;
          --dmu-hover-bg: #1f2937;
          --dmu-nav-bg: rgba(17, 24, 39, 0.95);
          --dmu-sidebar-bg: rgba(31, 41, 55, 0.4);
        }
        
        /* Apply theme variables globally */
        body {
          background-color: var(--dmu-body-bg) !important;
          color: var(--dmu-text) !important;
          transition: all 0.3s ease;
        }
        
        /* Ensure all text elements inherit proper colors */
        h1, h2, h3, h4, h5, h6 {
          color: var(--dmu-text) !important;
        }
        
        p, span, div {
          color: inherit;
        }
        
        .text-muted, .text-slate-500, .text-slate-600 {
          color: var(--dmu-text-muted) !important;
        }
        
        /* Modern spacing system */
        .modern-spacing {
          padding: 2rem;
          gap: 1.5rem;
        }
        
        .modern-card {
          background-color: var(--dmu-card-bg);
          border: 1px solid var(--dmu-card-border);
          border-radius: 0.75rem;
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
          transition: all 0.2s ease;
        }
        
        .modern-card:hover {
          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
          transform: translateY(-2px);
        }
        
        /* Vote buttons for post cards */
        .vote-btn { 
          border: 0; 
          background: transparent; 
          color: var(--dmu-text-muted); 
          width: 32px; 
          height: 32px; 
          display: flex; 
          align-items: center; 
          justify-content: center; 
          border-radius: 0.375rem;
          transition: all 0.2s ease;
        }
        .vote-btn:hover { 
          background: var(--dmu-hover-bg);
          color: var(--dmu-text);
        }
        
        /* Line clamp utilities */
        .line-clamp-3 { display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
        .line-clamp-4 { display: -webkit-box; -webkit-line-clamp: 4; -webkit-box-orient: vertical; overflow: hidden; }
        
        /* Enhanced card surface utility */
        .card-surface {
          background-color: var(--dmu-card-bg) !important;
          border: 1px solid var(--dmu-card-border) !important;
          border-radius: 0.75rem !important;
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
          transition: all 0.2s ease !important;
        }
        
        .card-surface:hover {
          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
        }
      </style>
  {% endblock css %}
    {% block javascript %}
      <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
      <script defer src="{% static 'js/project.js' %}"></script>
      <script defer src="{% static 'js/reddit.js' %}"></script>
    {% endblock javascript %}
  </head>
  <body class="{% block bodyclass %}{% endblock bodyclass %} min-h-screen transition-all duration-300" style="background-color: var(--dmu-body-bg); color: var(--dmu-text);">
      <script>
        // Enhanced theme application with better detection
        (function(){
          const saved = localStorage.getItem('theme');
          const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
          const shouldBeDark = saved === 'dark' || (!saved && prefersDark);
          
          if (shouldBeDark) {
            document.body.classList.add('theme-dark', 'dark');
            document.documentElement.classList.add('dark');
          } else {
            document.body.classList.remove('theme-dark', 'dark');
            document.documentElement.classList.remove('dark');
          }
          
          document.documentElement.classList.remove('pre-theme');
          
          // Store the applied theme
          localStorage.setItem('theme', shouldBeDark ? 'dark' : 'light');
        })();
    </script>
    {% block body %}
      {% include "partials/navbar.html" %}
      {% if messages %}
        <div class="fixed top-20 right-4 z-50 space-y-2">
          {% for message in messages %}
            <div class="bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg px-4 py-3 max-w-sm">
              <div class="flex items-start gap-3">
                {% if message.tags == 'success' %}
                  <svg class="w-5 h-5 text-green-500 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                {% elif message.tags == 'error' %}
                  <svg class="w-5 h-5 text-red-500 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                  </svg>
                {% else %}
                  <svg class="w-5 h-5 text-blue-500 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                {% endif %}
                <div class="flex-1">
                  <p class="text-sm text-slate-900 dark:text-slate-100">{{ message }}</p>
                </div>
                <button type="button" class="text-slate-400 hover:text-slate-600 dark:hover:text-slate-300" onclick="this.parentElement.parentElement.remove()">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                  </svg>
                </button>
              </div>
            </div>
          {% endfor %}
        </div>
      {% endif %}
      <!-- Mobile navigation -->
      <div x-data="{ mobileMenuOpen: false }" 
           @toggle-mobile-menu.window="mobileMenuOpen = !mobileMenuOpen"
           @keydown.escape.window="mobileMenuOpen = false">
        <!-- Mobile sidebar overlay -->
        <div x-show="mobileMenuOpen" x-cloak 
             class="fixed inset-0 z-50 lg:hidden" 
             x-transition:enter="transition-opacity ease-linear duration-300"
             x-transition:enter-start="opacity-0"
             x-transition:enter-end="opacity-100"
             x-transition:leave="transition-opacity ease-linear duration-300"
             x-transition:leave-start="opacity-100"
             x-transition:leave-end="opacity-0">
          <div class="fixed inset-0 bg-slate-900/50" 
               @click="mobileMenuOpen = false"></div>
          <nav class="fixed top-0 left-0 bottom-0 w-56 border-r overflow-y-auto"
               style="background-color: var(--dmu-card-bg); border-color: var(--dmu-card-border);"
               x-transition:enter="transition ease-in-out duration-300 transform"
               x-transition:enter-start="-translate-x-full"
               x-transition:enter-end="translate-x-0"
               x-transition:leave="transition ease-in-out duration-300 transform"
               x-transition:leave-start="translate-x-0"
               x-transition:leave-end="-translate-x-full">
            <!-- Close button -->
            <div class="flex items-center justify-between p-4 border-b" style="border-color: var(--dmu-card-border);">
              <h2 class="text-lg font-semibold" style="color: var(--dmu-text);">Menu</h2>
              <button @click="mobileMenuOpen = false" class="p-2 rounded-md transition-colors" style="color: var(--dmu-text-muted);" onmouseover="this.style.backgroundColor='var(--dmu-hover-bg)'" onmouseout="this.style.backgroundColor='transparent'">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
              </button>
            </div>
            
            <div class="p-4 space-y-6">
              <!-- Primary Navigation -->
              <div class="space-y-1">
                <a href="/" @click="mobileMenuOpen = false" class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors {% if request.path == '/' %}bg-brand-100 text-brand-700 dark:bg-brand-900/20 dark:text-brand-300{% else %}text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800{% endif %}">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                  </svg>
                  <span>Home</span>
                </a>
                <a href="{% url 'discovery:browse_organizations' %}" @click="mobileMenuOpen = false" class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors {% if request.resolver_match.url_name == 'browse_organizations' %}bg-brand-100 text-brand-700 dark:bg-brand-900/20 dark:text-brand-300{% else %}text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800{% endif %}">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                  </svg>
                  <span>Communities</span>
                </a>
                <a href="{% url 'dashboard:home' %}" @click="mobileMenuOpen = false" class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors {% if request.resolver_match.app_name == 'dashboard' %}bg-brand-100 text-brand-700 dark:bg-brand-900/20 dark:text-brand-300{% else %}text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800{% endif %}">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                  </svg>
                  <span>Dashboard</span>
                </a>
                <a href="{% url 'organizations:manage-organizations' %}" @click="mobileMenuOpen = false" class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors {% if request.resolver_match.app_name == 'organizations' %}bg-brand-100 text-brand-700 dark:bg-brand-900/20 dark:text-brand-300{% else %}text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800{% endif %}">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                  </svg>
                  <span>Organizations</span>
                </a>
              </div>

              <!-- Content Creation -->
              <div>
                <h3 class="px-3 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-3">Create</h3>
                <div class="space-y-1">
                  <a href="{% url 'dashboard:new-post' %}" @click="mobileMenuOpen = false" class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                    </svg>
                    <span>New Post</span>
                  </a>
                  <a href="{% url 'dashboard:new-template' %}" @click="mobileMenuOpen = false" class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                    <span>Post Template</span>
                  </a>
                </div>
              </div>
            </div>
          </nav>
        </div>
      </div>

      <div class="flex min-h-screen">
        <!-- Global Left Sidebar -->
        <nav class="hidden lg:flex flex-col w-56 flex-shrink-0 border-r" style="background-color: var(--dmu-sidebar-bg); border-color: var(--dmu-card-border);" id="leftSidebar">
          {% block left_sidebar %}
          <div class="sticky top-16 h-[calc(100vh-4rem)] overflow-y-auto">
            <div class="p-4 space-y-6">
              <!-- Primary Navigation -->
              <div class="space-y-1">
                <a href="/" class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors {% if request.path == '/' %}bg-brand-100 text-brand-700 dark:bg-brand-900/20 dark:text-brand-300{% else %}text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800{% endif %}">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                  </svg>
                  <span>Home</span>
                </a>
                <a href="{% url 'discovery:browse_organizations' %}" class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors {% if request.resolver_match.url_name == 'browse_organizations' %}bg-brand-100 text-brand-700 dark:bg-brand-900/20 dark:text-brand-300{% else %}text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800{% endif %}">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                  </svg>
                  <span>Communities</span>
                </a>
                <a href="{% url 'dashboard:home' %}" class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors {% if request.resolver_match.app_name == 'dashboard' %}bg-brand-100 text-brand-700 dark:bg-brand-900/20 dark:text-brand-300{% else %}text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800{% endif %}">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                  </svg>
                  <span>Dashboard</span>
                </a>
                <a href="{% url 'organizations:manage-organizations' %}" class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors {% if request.resolver_match.app_name == 'organizations' %}bg-brand-100 text-brand-700 dark:bg-brand-900/20 dark:text-brand-300{% else %}text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800{% endif %}">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                  </svg>
                  <span>Organizations</span>
                </a>
              </div>

              <!-- Content Creation -->
              <div>
                <h3 class="px-3 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-3">Create</h3>
                <div class="space-y-1">
                  <a href="{% url 'dashboard:new-post' %}" class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                    </svg>
                    <span>New Post</span>
                  </a>
                  <a href="{% url 'dashboard:new-template' %}" class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                    <span>Post Template</span>
                  </a>
                </div>
              </div>

              <!-- Management -->
              <div>
                <h3 class="px-3 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-3">Manage</h3>
                <div class="space-y-1">
                  <span class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-slate-400 dark:text-slate-600 cursor-not-allowed">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path>
                    </svg>
                    <span>Saved Posts</span>
                    <span class="text-xs bg-slate-200 dark:bg-slate-700 px-1.5 py-0.5 rounded">Soon</span>
                  </span>
                </div>
              </div>

              <!-- Resources -->
              <div>
                <h3 class="px-3 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-3">Resources</h3>
                <div class="space-y-1">
                  <a href="#" class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span>About</span>
                  </a>
                  <a href="#" class="flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span>Help</span>
                  </a>
                </div>
              </div>
            </div>
          </div>
          {% endblock left_sidebar %}
        </nav>

        <!-- Main Content Area -->
        <div class="flex-1 flex">
          <!-- Center Content -->
          <main class="flex-1 max-w-5xl px-6 sm:px-8 lg:px-12 py-8" id="feed">
            {% block main %}
              {% block content %}{% endblock content %}
            {% endblock main %}
          </main>

          <!-- Optional Right Sidebar -->
          <aside class="hidden xl:flex flex-col w-72 flex-shrink-0 border-l" style="background-color: var(--dmu-sidebar-bg); border-color: var(--dmu-card-border);" id="rightSidebar">
            <div class="sticky top-16 h-[calc(100vh-4rem)] overflow-y-auto">
              <div class="p-8 space-y-6">
                {% block right_sidebar %}
                  {% block sidebar %}
                    <!-- Default Right Sidebar Content -->
                    <div class="modern-card p-6">
                      <h3 class="text-lg font-semibold mb-4" style="color: var(--dmu-text);">Quick Actions</h3>
                      <div class="space-y-3">
                        <a href="{% url 'dashboard:new-post' %}" class="flex items-center gap-3 p-3 rounded-lg transition-colors hover:bg-slate-100 dark:hover:bg-slate-800">
                          <svg class="w-5 h-5 text-brand-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                          </svg>
                          <span class="text-sm font-medium" style="color: var(--dmu-text);">Create New Post</span>
                        </a>
                        <a href="{% url 'discovery:browse_organizations' %}" class="flex items-center gap-3 p-3 rounded-lg transition-colors hover:bg-slate-100 dark:hover:bg-slate-800">
                          <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                          </svg>
                          <span class="text-sm font-medium" style="color: var(--dmu-text);">Browse Communities</span>
                        </a>
                      </div>
                    </div>

                    <div class="modern-card p-6">
                      <h3 class="text-lg font-semibold mb-4" style="color: var(--dmu-text);">About DiscoverMyUni</h3>
                      <p class="text-sm leading-relaxed mb-4" style="color: var(--dmu-text-muted);">
                        Connect with university communities, discover events, and stay engaged with campus life.
                      </p>
                      <div class="space-y-2 text-sm" style="color: var(--dmu-text-muted);">
                        <div class="flex items-center gap-2">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                          </svg>
                          <span>Join Communities</span>
                        </div>
                        <div class="flex items-center gap-2">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                          </svg>
                          <span>Discover Events</span>
                        </div>
                        <div class="flex items-center gap-2">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                          </svg>
                          <span>Stay Connected</span>
                        </div>
                      </div>
                    </div>
                  {% endblock sidebar %}
                {% endblock right_sidebar %}
              </div>
            </div>
          </aside>
        </div>
      </div>
    {% endblock body %}
    <!-- /container -->
    {% block modal %}
    {% endblock modal %}
    {% block inline_javascript %}
      {% comment %}
  Script tags with only code, no src (defer by default). To run
  with a "defer" so that you run inline code:
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      /* Run whatever you want */
    });
  </script>
      {% endcomment %}
    {% endblock inline_javascript %}
  </body>
</html>
