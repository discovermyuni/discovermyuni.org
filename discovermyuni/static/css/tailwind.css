@tailwind base;
@tailwind components;
@tailwind utilities;

/* Design tokens via CSS variables so Django + Tailwind share theme */
:root {
  --dmu-body-bg:#f8f9fa;
  --dmu-card-bg:#ffffff;
  --dmu-card-border:#e5e7eb;
  --dmu-text:#1f2937;
}
body.theme-dark, body.dark {
  --dmu-body-bg:#0f1113;
  --dmu-card-bg:#1e1f22;
  --dmu-card-border:#2c2f33;
  --dmu-text:#e2e8f0;
}
body { background: var(--dmu-body-bg); color: var(--dmu-text); }

@layer components {
  .card-surface { @apply rounded-md border shadow-sm-brand border-[var(--dmu-card-border)] bg-[var(--dmu-card-bg)]; }
  .btn-base { @apply inline-flex items-center gap-2 font-medium rounded-md transition focus:outline-none focus:ring-2 focus:ring-brand-400 focus:ring-offset-1 dark:focus:ring-offset-slate-900; }
  .btn-brand { @apply btn-base bg-brand-600 text-white hover:bg-brand-500; }
  .btn-outline { @apply btn-base border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700/50; }
  .rail-collapsed .rail-text { @apply hidden; }
  .rail-collapsed .rail-item { @apply justify-center px-0; }
}

@layer utilities {
  .fade-border { box-shadow: inset 0 0 0 1px var(--dmu-card-border); }
  .skeleton { @apply relative overflow-hidden bg-slate-200 dark:bg-slate-700; }
  .skeleton:after { content:''; position:absolute; inset:0; transform:translateX(-100%); background:linear-gradient(90deg, transparent, rgba(255,255,255,.35), transparent); animation:skeleton 1.2s infinite; }
  @keyframes skeleton { 100% { transform:translateX(100%); } }
}
